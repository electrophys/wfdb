'\" t
.TH WAVE 1 "9 February 2026" "WFDB 11.0.0" "WFDB Applications Guide"
.SH NAME
wave \- waveform analyzer, viewer, and editor
.SH SYNOPSIS
\fBwave -r\fR \fIrecord\fR[\fB+\fIrecord\fR ...] [ \fIoptions\fR ... ]
.SH DESCRIPTION
.PP
\fBwave\fR is a GTK 3 application for viewing WFDB \fIrecord\fRs
and interactively editing annotations.  It uses Cairo for signal rendering
and an embedded VTE terminal for running analysis commands.
First-time users should read the \fIWAVE User's Guide\fR.
.PP
If you specify more than one \fIrecord\fR, a separate \fBwave\fR process is
started for each record.  Note that all records to be opened must be listed in
a single command-line argument following \fB-r\fR, with \fB+\fR characters (not
spaces) between the record names.  See `Running two or more WAVE processes'
below.
.PP
Use the left mouse button to make selections, and the right mouse button to
open menus.
.PP
\fIOptions\fR are:
.TP
\fB-a\fR \fIannotator\fR
Open the specified annotation file for the previously specified \fIrecord\fR
or records.
.TP
\fB-dpi\fR \fIxx\fR[\fBx\fIyy\fR]
Override the automatically detected display resolution.
\fBwave\fR normally queries the display to determine the resolution; use
this option only if the detected value is incorrect.
.TP
\fB-f\fR \fItime\fR
Open the record(s) beginning at the specified \fItime\fR.
.TP
\fB-H\fR
Read the signal files in high-resolution mode (default: standard mode).
These modes are identical for ordinary records.  For multifrequency records,
the standard decimation of oversampled signals to the frame rate is suppressed
in high-resolution mode (rather, all other signals are resampled at the highest
sampling frequency).
.TP
\fB-m\fR
Use monochrome (black and white) rendering.
.TP
\fB-p\fR \fIpath\fR
Add \fIpath\fR to the WFDB path for input file search.
.TP
\fB-s\fR \fIsignal-list\fR
Initialize the signal list.  By default, the signal list includes all available
signals, in numerical order.
.TP
\fB-V\fR\fIx\fR
Set display option \fIx\fR.  See `Display Options' below for details.
.SS Display options
Initial values for the settings controlled from \fBwave\fR's View window can
be specified using command-line options.  Once suitable settings have been
selected, use the `Save as new defaults' button in \fBwave\fR's View window
to record them in your preferences file (see PREFERENCES below).
.PP
By default, all of the display options in the first group are off; use the
command-line options to enable them.
.TP
\fB-Vs\fR
Display annotation \fBsubtyp\fR fields.
.TP
\fB-Vc\fR
Display annotation \fBchan\fR fields.
.TP
\fB-Vn\fR
Display annotation \fBnum\fR fields.
.TP
\fB-Va\fR
Display annotation \fBaux\fR fields.
.TP
\fB-Vm\fR
Display annotation marker bars.
.TP
\fB-VN\fR
Display signal names along the left edge of the signal window.
.TP
\fB-Vb\fR
Display baselines for any DC-coupled signals, and label the zero levels and the
units along the right edge of the signal window.
.TP
\fB-Vl\fR
While the pointer is in the signal window and any mouse button is depressed,
track the intersections of the marker bar with the signals and draw
horizontal marker bars across the signal window at the levels of these
intersections.
.PP
The remaining command-line display options correspond to
the menu buttons in \fBwave\fR's View window.  The numeric argument
should match the position of the desired menu choice, where the top item on
each menu is in position 0, the one below it is in position 1, etc.
.TP
\fBWave.View.TimeScale\fR (\fB-Vt\fR)
Set the time scale:
.TS
l l.
\fB-Vt 0\fR	0.25 mm/hour
\fB-Vt 1\fR	1 mm/hour
\fB-Vt 2\fR	5 mm/hour
\fB-Vt 3\fR	0.25 mm/min
\fB-Vt 4\fR	1 mm/min
\fB-Vt 5\fR	5 mm/min
\fB-Vt 6\fR	25 mm/min
\fB-Vt 7\fR	50 mm/min
\fB-Vt 8\fR	125 mm/min
\fB-Vt 9\fR	250 mm/min
\fB-Vt 10\fR	500 mm/min
\fB-Vt 11\fR	12.5 mm/sec
\fB-Vt 12\fR	25 mm/sec (default)
\fB-Vt 13\fR	50 mm/sec
\fB-Vt 14\fR	125 mm/sec
\fB-Vt 15\fR	250 mm/sec
\fB-Vt 16\fR	500 mm/sec
\fB-Vt 17\fR	1000 mm/sec
\fB-Vt 18\fR	2000 mm/sec
\fB-Vt 19\fR	5000 mm/sec
\fB-Vt 20\fR	10 mm/ms
\fB-Vt 21\fR	20 mm/ms
\fB-Vt 22\fR	50 mm/ms
\fB-Vt 23\fR	100 mm/ms
\fB-Vt 24\fR	200 mm/ms
\fB-Vt 25\fR	500 mm/ms
.TE
.TP
\fB-Vv\fR \fIn\fR
Set the amplitude scale (0: 1 mm/mV; 1: 2.5 mm/mV; 2: 5 mm/mV; 3: 10 mm/mV
(default); 4: 20 mm/mV; 5: 40 mm/mV; 6: 100 mm/mV).
.TP
\fB-VS\fR \fIn\fR
Set the choice on the `Draw' menu (0: all signals (default); 1: listed signals
only).
.TP
\fB-VA\fR \fIn\fR
Set the choice on the `Show annotations' menu (0: centered (default); 1:
attached to signals; 2: as a signal).
.TP
\fB-VT\fR \fIn\fR
Set the choice on the `Time display' menu (0: elapsed (default); 1: absolute;
2: in sample intervals).
.TP
\fB-VG\fR \fIn\fR
Set the choice on the `Grid' menu (0: none; 1: 0.2 s; 2: 0.5 mV; 3: 0.2s x 0.5 mV (default)).
.SH RUNNING TWO OR MORE WAVE PROCESSES
.PP
By specifying two or more record names, separated by `\fB+\fR'
characters, in the command-line argument that follows `\fB-r\fR' (see
above), you may open separate WAVE signal windows (processes) for each
record.  These processes are almost completely independent: from any
signal window, you may navigate within the record, change display
settings, edit annotations, run external analysis programs, quit the
process, etc., without affecting any other signal windows.
.PP
For example, you may open two signal windows for the same record by:
.br
	\fBwave -r 100+100 -a atr\fR
.br
You can now move about the record freely in either window.  This facility
makes it easy to compare different segments of the record.
Note that whenever two or more windows are displaying the same set of
annotations, as in this case, only one should be editing the
annotations at any given time.
.PP
The window associated with the \fIlast\fR record named on the command
line has a special status: it is designated the master signal window,
and an extra button (labelled `Sync') appears at the top of this
window.  Clicking on this button causes all of the other signal
windows to be redrawn so that the times shown in their lower left
corners match that in the master signal window.
.PP
By default, all command-line arguments apply to all signal windows.
You may specify an argument that is to apply to only one signal
window, however, by prefixing the argument with `\fB+\fIn\fB/\fR', where
\fIn\fR is the signal window number.  (The first signal window,
corresponding to the first record named on the command line, is signal
window number 0; the next is number 1, etc.)
.PP
This facility has many applications.  For example, you may wish to open two
copies of the same record, with two different annotators:
.br
	\fBwave -r 100+100 -a +0/atr +1/qrs\fR
.PP
As another example, the MIMIC Database includes both high-resolution
waveform records and medium-resolution (roughly 1 sample per second)
computed measurement records.  You may view both of these at the same
time using a command such as:
.br
	\fBwave -r 237+237n -a all\fR
.br
Typically, you will wish to view the high-resolution and low-resolution
data at different time scales.  Although \fBwave\fR attempts to choose
reasonable defaults, you can adjust the scales independently if you wish:
.br
	\fBwave -r 237+237n -a all +1/-Vt +1/2\fR
.PP
If you use \fBwavescript\fR or \fBwave-remote\fR to control the master
signal window (this happens by default unless you use the \fB-pid\fR option
of these programs to control a different signal window), the other signal
windows are kept synchronized with the master window.
.PP
Note that you cannot \fIincrease\fR the number of signal windows in a group
once you have started a \fBwave\fR process group, although you can run more
than one process group at a time if you wish.
.SH MENU FILE
.PP
\fBwave\fR uses a simple menu file to allow you to set up analysis
options.  Each line in the file corresponds to a button in the Analyze window
(except for empty lines and lines that begin with `#', which are ignored).
Within each line, the syntax is \fIlabel\fR<tab>\fIaction\fR, where <tab> is
one or more tab characters.  The \fIlabel\fR field is used to identify a
command button in the Analyze window, and the \fIaction\fR field is any command
acceptable to your shell.  \fIbutton-label\fR and \fIaction\fR may include
spaces if needed; if necessary, a `\\' may be used at the end of a line to
indicate that it is continued on the next line.  Before the command is
executed, \fBwave\fR replaces certain tokens with appropriate strings;  these
include:
.TP
\fB$RECORD\fR
The name of the current record.
.TP
\fB$ANNOTATOR\fR
The name of the current input annotator.
.TP
\fB$START\fR
The currently selected `start analysis' time.
.TP
\fB$END\fR
The currently selected `end analysis' time.
.TP
\fB$DURATION\fR
The time interval between \fB$END\fR and \fB$START\fR.
.TP
\fB$LEFT\fR
The time corresponding to the left edge of the signal window.
.TP
\fB$RIGHT\fR
The time corresponding to the right edge of the signal window.
.TP
\fB$WIDTH\fR
The time interval between \fB$RIGHT\fR and \fBLEFT\fR.
.TP
\fB$SIGNAL\fR
The currently selected signal number (as shown in the Analyze window).
.TP
\fB$SIGNALS\fR
The current signal list (as shown in the Analyze window).
.TP
\fB$LOG\fR
The name of the current log file (as shown in the Log window).
.TP
\fB$WFDB\fR
The WFDB path (from the Load window).
.TP
\fB$WFDBCAL\fR
The name of the WFDB calibration file (from the Load window).
.TP
\fB$TSCALE\fR
The time scale, in mm/sec.
.TP
\fB$VSCALE\fR
The amplitude scale, in mm/mV.
.TP
\fB$DISPMODE\fR
The annotation display mode (0: annotations displayed in center, no marker
bars; 1: annotations displayed in center, long marker bars; 2: annotations
attached to signals, no bars; 3: annotations attached to signals, short bars;
4: annotations displayed as a signal, no bars; 5: annotations displayed as a
signal, long bars)
.TP
\fB$PSPRINT\fR
The command for printing PostScript data from the standard input, as specified
in the Print Setup window.
.TP
\fB$TEXTPRINT\fR
The command for printing text from the standard input, as specified in the
Print Setup window.
.TP
\fB$URL\fR
The URL specified by the most recently selected link.
.PP
Other tokens that begin with `$' are passed to the shell unchanged.
.SS Example
The default menu file includes the following lines (among others):
.br
.TS
center;
l l.
 \fIMark QRS complexes\fR	sqrs -r $RECORD -f $START -t $END -s $SIGNAL
 \fICalibrate\fR	calsig -r $RECORD -f $START -t $END -s $SIGNALS
 \fIExtract segment\fR	snip -i $RECORD -f $START -t $END -n n\_$RECORD \\
	 -a $ANNOTATOR
 \fIList annotations\fR	rdann -r $RECORD -a $ANNOTATOR -f $START -t $END
 \fIList samples\fR	rdsamp -r $RECORD -f $START -t $END -s $SIGNALS
 \fIPrint chart\fR	echo $RECORD $START-$END | \\
	 pschart -a $ANNOTATOR -g -l -R -s $SIGNALS - | $PSPRINT
 \fIPrint full disclosure\fR	echo $RECORD $START-$END | \\
	 psfd -a $ANNOTATOR -g -l -R -s $SIGNALS - | $PSPRINT
.TE
.SH KEYBOARD COMMANDS
.PP
Whenever the pointer is in the signal window, the normal arrow pointer is
replaced by a crosshair pointer.  At these times, the numeric keypad and
several of the function keys may be used for many annotation editing and
display operations, and the normal alphanumeric and punctuation keys can be
used to select single-character annotation mnemonics (displayed in the
Annotation Template window).
.TP
\fI<F1>\fR
Open context help.
.TP
\fI<left arrow>\fR
Select the annotation to the left of the pointer.  (Click left to do this
using the mouse.  These actions also work when the pointer is in the scope
window.)
.TP
\fI<right arrow>\fR
Select the annotation to the right of the pointer.  (Click right to do this
using the mouse.  These actions also work when the pointer is in the scope
window.)
.TP
\fI<up arrow>\fR
Move the selected annotation up one signal (i.e.,
decrement its \fBchan\fR field).  This command works in multi-edit
mode only (enter multi-edit mode by choosing `attached to signals'
from the `Show annotations' menu in \fBwave\fR's View window).
.TP
\fI<down arrow>\fR
Move the selected annotation down one signal (i.e., increment its \fBchan\fR
field).  This command works in multi-edit mode only.
.TP
\fI<F2>\fR
Insert an annotation at the current position of the pointer.  (Click the middle
button to do this using the mouse.  Annotation editing must be enabled for this
action to be successful.)
.TP
\fI<F3>\fR
Move the pointer toward the left.
.TP
\fI<F4>\fR
Move the pointer toward the right.
.TP
\fI<F6>\fR
Copy the selected annotation to the Annotation Template.
.TP
\fI<F9>\fR
Search forward.
.TP
\fI<ctrl><F9>\fR
Search backward.
.TP
\fI<End>\fR (\fI<shift><F9>\fR)
Advance to the end of the record.
.TP
\fI<Home>\fR (\fI<ctrl><shift><F9>\fR)
Move to the beginning of the record.
.TP
\fI<PgDn>\fR (\fI<F10>\fR)
Advance half a screen.
.TP
\fI<ctrl><PgDn>\fR (\fI<ctrl><F10>\fR)
Advance a full screen.
.TP
\fI<PgUp>\fR (\fI<shift><F10>\fR)
Move back half a screen.
.TP
\fI<ctrl><PgUp>\fR (\fI<ctrl><shift><F10>\fR)
Move back a full screen.
.TP
\fI<Enter>\fR (\fI<Return>\fR)
(Only if a link annotation has been selected.)  Show the external data
specified by the link using a Web browser.
.SH ENVIRONMENT
\fBwave\fR uses many environment variables;  they are listed in this section
roughly in order of importance.  Many of them need not be set at all, since
\fBwave\fR uses reasonable default values in most cases.
.TP
\fBWFDB\fR
The database path (see \fBsetwfdb\fR(1)).  If not set, \fBwave\fR can find
database files only in the builtin WFDB path.  If you edit annotation files
and wish to reopen them later, be sure that the current directory (in
which \fBwave\fR writes any edited annotation files) is the first
directory in your database path.
.TP
\fBWFDBCAL\fR
The WFDB calibration file (see \fBsetwfdb\fR(1) and \fBwfdbcal\fR(5)).  If not
set, \fBwave\fR reads the builtin default calibration file;  if this is not
accessible, \fBwave\fR may not scale signals other than ECGs correctly.
.TP
\fBWAVEMENU\fR
The name of the analysis menu file (see below);  if not set,
\fBwave\fR uses \fBwavemenu\fR if it exists in the current directory, or
\fB$MENUDIR\fR\fB/wavemenu.def\fR otherwise.
.TP
\fBSHELL\fR
The command interpreter used within the Analysis Commands window (an embedded
VTE terminal);  if not set, \fBwave\fR uses \fB/bin/sh\fR.
.TP
\fBEDITOR\fR
The name of the text editor to be used for modifying the analysis menu
file and the log file.  If not set, \fBwave\fR uses \fBxdg-open\fR.
.TP
\fBPRINTER\fR
The name of a printer to be used for paper output;  if not set,
\fBwave\fR uses the default printer.
.TP
\fBPSPRINT\fR
The command used to print PostScript data from the standard input;  if not
set, \fBwave\fR uses `\fBlpr -P$PRINTER\fR'.
.TP
\fBTEXTPRINT\fR
The command used to print text from the standard input;  if not
set, \fBwave\fR uses `\fBlpr -P$PRINTER\fR'.
.TP
\fBANNTAB\fR
The name of a file that contains custom annotation definitions.
.TP
\fBMENUDIR\fR
The name of the directory that contains the default analysis menu
file;  if not set, \fBwave\fR uses \fB/usr/local/lib\fR.
.SH PREFERENCES
.PP
\fBwave\fR stores user preferences in
\fB~/.config/wave/waverc\fR, a GKeyFile-format INI file.  Preferences are
saved automatically when you use `Save as new defaults' in the View window.
.PP
The preferences file uses a \fB[Wave]\fR section with keys such as:
.TP
\fBDpi\fR
Display resolution override (e.g., \fB96.0x96.0\fR).
.TP
\fBSignalWindow.Height_mm\fR, \fBSignalWindow.Width_mm\fR
Preferred signal window dimensions in millimeters (defaults: 120, 250).
.TP
\fBSignalWindow.Font\fR
Font for annotations and time marks (default: \fBMonospace 10\fR).
.TP
\fBColor.Background\fR, \fBColor.Grid\fR, \fBColor.Cursor\fR, \fBColor.Annotation\fR, \fBColor.Signal\fR
Display colors.  Any color string accepted by
.BR gdk_rgba_parse (3)
may be used.  Defaults: white, #E5E5E5, OrangeRed, YellowGreen, blue.
.TP
\fBView.*\fR
Display options corresponding to the View window controls (Subtype, Chan,
Num, Aux, Markers, SignalNames, Baselines, Level, TimeScale,
AmplitudeScale, AnnotationMode, SignalMode, TimeMode, GridMode).
.SH BUGS
.PP
No more than one piped record (see the \fIWFDB Programmer's Guide\fR)
can be viewed in a single invocation of \fBwave\fR.  If the signal file
is a pipe, it is possible only to search forward through it (although
\fBwave\fR caches several of the most recently displayed windows, which
can be reviewed in any case).  Using the `>' button to move by half a frame
does not work properly with piped input, nor does changing the display scales,
since these actions require rereading the signals.
.SH SEE ALSO
\fBpschart\fR(1), \fBrdsamp\fR(1), \fBrdann\fR(1)
.SH AUTHOR
George B. Moody (george@mit.edu)
.SH SOURCES
http://www.physionet.org/physiotools/wfdb/wave/
